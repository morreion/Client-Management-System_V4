in my C# wpf database application i want to have a custom search textbox. It should have a placeholder text, which says enter name. when  the user starts entering the name, the placeholder text disappears. The textbox should have rounded corners, but i know cornerradius is not a property of a textbox control.  The textbox also has a search icon in the left of the search textbox, or maybe its part of another control if that works better. how do i implement that all?


I'll help you create a custom search textbox for your WPF application. The best approach is to use a Border control with a TextBox inside it, along with a TextBlock for the placeholder and an icon.

Custom Search TextBox XAML

<Window x:Class="YourNamespace.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Search TextBox Example" Height="300" Width="500">
    <Grid Margin="20">
        <!-- Custom Search TextBox -->
        <Border BorderBrush="#CCCCCC" 
                BorderThickness="1" 
                CornerRadius="20" 
                Background="White"
                Height="40"
                VerticalAlignment="Top">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Search Icon -->
                <Viewbox Grid.Column="0" 
                         Width="20" 
                         Height="20" 
                         Margin="12,0,8,0">
                    <Canvas Width="24" Height="24">
                        <Path Fill="#666666" 
                              Data="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                    </Canvas>
                </Viewbox>

                <!-- TextBox and Placeholder -->
                <Grid Grid.Column="1" Margin="0,0,15,0">
                    <!-- Placeholder Text -->
                    <TextBlock Text="Enter name" 
                               VerticalAlignment="Center"
                               Foreground="#999999"
                               IsHitTestVisible="False"
                               Margin="0,0,0,0">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Setter Property="Visibility" Value="Collapsed"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Text, ElementName=SearchTextBox}" Value="">
                                        <Setter Property="Visibility" Value="Visible"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>

                    <!-- Actual TextBox -->
                    <TextBox x:Name="SearchTextBox"
                             Background="Transparent"
                             BorderThickness="0"
                             VerticalAlignment="Center"
                             FontSize="14"
                             TextChanged="SearchTextBox_TextChanged"/>
                </Grid>
            </Grid>
        </Border>
    </Grid>
</Window>


Now here's the C# code-behind:

using System.Windows;
using System.Windows.Controls;

namespace YourNamespace
{
    public partial class MainWindow : Window
    {
        public MainWindow()
        {
            InitializeComponent();
        }

        private void SearchTextBox_TextChanged(object sender, TextChangedEventArgs e)
        {
            string searchText = SearchTextBox.Text;
            
            // Implement your search logic here
            // For example, filter your database results based on searchText
            PerformSearch(searchText);
        }

        private void PerformSearch(string searchText)
        {
            // Example: Search your database
            if (string.IsNullOrWhiteSpace(searchText))
            {
                // Show all results or clear results
                return;
            }

            // Your database search logic
            // e.g., var results = dbContext.Users.Where(u => u.Name.Contains(searchText)).ToList();
        }
    }
}



Key Features Implemented:

1. Rounded Corners: The Border control wraps the TextBox and provides the CornerRadius property
2. Placeholder Text: A TextBlock shows "Enter name" and automatically hides when the TextBox has text (using a DataTrigger)
3. Search Icon: An SVG path renders a search magnifying glass icon on the left side
4. Clean Design: The actual TextBox has a transparent background and no border, so it blends seamlessly with the Border


Customization Options:

Change corner radius: Adjust the CornerRadius="20" value
Change colors: Modify BorderBrush, icon Fill, and placeholder Foreground
Change icon: Replace the Path Data with any other SVG path
Adjust sizing: Modify Height, Width, and Margin values
Change placeholder text: Update the TextBlock Text property

You can also create this as a UserControl if you need to reuse it multiple times in your application. Would you like me to show you how to do that?









can you change the code so that it accommodates the MVVM architecture. The textbox is applied to multiple views but not to  Mainwindow.xaml . And i want to apply the custom search textbox  to multiple views so maybe some kind of resourcedictionary that i can apply to multiple views


I'll create a reusable UserControl for the search textbox and a ResourceDictionary so you can use it across multiple views with MVVM.





SearchTextBox UserControl: 


<UserControl x:Class="YourNamespace.Controls.SearchTextBox"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" 
             d:DesignHeight="40" d:DesignWidth="300">
    <Border BorderBrush="#CCCCCC" 
            BorderThickness="1" 
            CornerRadius="20" 
            Background="White"
            Height="40">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Search Icon -->
            <Viewbox Grid.Column="0" 
                     Width="20" 
                     Height="20" 
                     Margin="12,0,8,0">
                <Canvas Width="24" Height="24">
                    <Path Fill="#666666" 
                          Data="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                </Canvas>
            </Viewbox>

            <!-- TextBox and Placeholder -->
            <Grid Grid.Column="1" Margin="0,0,15,0">
                <!-- Placeholder Text -->
                <TextBlock Text="{Binding PlaceholderText, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                           VerticalAlignment="Center"
                           Foreground="#999999"
                           IsHitTestVisible="False">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="Visibility" Value="Collapsed"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding SearchText, RelativeSource={RelativeSource AncestorType=UserControl}}" Value="">
                                    <Setter Property="Visibility" Value="Visible"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding SearchText, RelativeSource={RelativeSource AncestorType=UserControl}}" Value="{x:Null}">
                                    <Setter Property="Visibility" Value="Visible"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>

                <!-- Actual TextBox -->
                <TextBox x:Name="InternalTextBox"
                         Text="{Binding SearchText, RelativeSource={RelativeSource AncestorType=UserControl}, UpdateSourceTrigger=PropertyChanged}"
                         Background="Transparent"
                         BorderThickness="0"
                         VerticalAlignment="Center"
                         FontSize="14"/>
            </Grid>
        </Grid>
    </Border>
</UserControl>






App.xaml - Register ResourceDictionary


<Application x:Class="YourNamespace.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             StartupUri="MainWindow.xaml">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <!-- Add your ResourceDictionary here -->
                <ResourceDictionary Source="/Styles/SearchTextBoxStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Application.Resources>
</Application>




Here's how to organize your files:


YourProject/
├── Controls/
│   ├── SearchTextBox.xaml
│   └── SearchTextBox.xaml.cs
├── ViewModels/
│   ├── CustomerViewModel.cs
│   ├── ProductViewModel.cs
│   └── OrderViewModel.cs
├── Views/
│   ├── CustomerView.xaml
│   ├── ProductView.xaml
│   └── OrderView.xaml
├── Styles/
│   └── SearchTextBoxStyles.xaml
└── App.xaml




Usage in Multiple Views
Example 1: Customer View

<controls:SearchTextBox SearchText="{Binding SearchText}" 
                        PlaceholderText="Enter customer name"/>

Example 2: Product View

<controls:SearchTextBox SearchText="{Binding SearchText}" 
                        PlaceholderText="Search products"/>


Example 3: Using Styles

<controls:SearchTextBox SearchText="{Binding SearchText}" 
                        Style="{StaticResource WideSearchTextBox}"
                        PlaceholderText="Find orders"/>




Key MVVM Benefits

1. Two-way binding: The SearchText property binds to your ViewModel
2. Reusable: Use the control in any view by adding the namespace
3. Customizable: Change placeholder text per view
4. Separation of concerns: Search logic stays in ViewModel
5. Testable: ViewModels can be unit tested without UI

The UpdateSourceTrigger=PropertyChanged ensures your ViewModel's PerformSearch() method is called immediately as the user types!