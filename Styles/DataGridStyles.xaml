<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- 1. The Cell Style (Handles the Light Blue Borders) -->
    <Style x:Key="GlobalDataGridCellStyle" TargetType="DataGridCell">
        <!-- Default State: Transparent border (invisible), dark background -->
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderBrush" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="1,1,1,1"/> <!-- Right and Bottom borders -->
        <Setter Property="Padding" Value="5"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="DataGridCell">
                    <Border BorderBrush="{TemplateBinding BorderBrush}" 
                            BorderThickness="{TemplateBinding BorderThickness}" 
                            Background="{TemplateBinding Background}" 
                            SnapsToDevicePixels="True">
                        <ContentPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                          VerticalAlignment="Center"
                                          Margin="{TemplateBinding Padding}"/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>

        <Style.Triggers>
            <!-- TRIGGER: When Parent ROW is Hovered -->
            <!-- <Setter Property="BorderBrush" Value="#3B82F6"/>-->
            <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=DataGridRow}, Path=IsMouseOver}" Value="True">
                <Setter Property="BorderBrush" Value="#3B82F6"/> <!-- Light Blue Border -->
            </DataTrigger>

            <!-- TRIGGER: When Parent ROW is Selected -->
            <!-- <Setter Property="BorderBrush" Value="#3B82F6"/>-->
            <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=DataGridRow}, Path=IsSelected}" Value="True">
                <Setter Property="BorderBrush" Value="#3B82F6"/> <!-- Light Blue Border -->
                <Setter Property="Foreground" Value="White"/>
            </DataTrigger>
            
            <!-- Remove the default blue selection highlight on the specific cell, 
                 so the whole Row looks uniform -->
            <Trigger Property="IsSelected" Value="True">
                <Setter Property="Background" Value="Transparent"/> 
                <Setter Property="Foreground" Value="White"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- 2. The Row Style (Handles Background and Text Color) -->
    <Style x:Key="GlobalDataGridRowStyle" TargetType="DataGridRow">
        <Setter Property="Background" Value="#2D3035"/> <!-- Normal Background -->
        <Setter Property="Foreground" Value="White"/> <!-- Normal Text -->
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Padding" Value="0,5"/>
        
        <Style.Triggers>
            <!-- Mouse Hover Effect -->
            <!--<Setter Property="Background" Value="#4B5563"/>
            <Setter Property="Foreground" Value="White"/>
            -->
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="#4B5563"/> <!-- Lighter Grey on Hover -->
                <Setter Property="Foreground" Value="White"/>    <!-- White Text on Hover -->
            </Trigger>

            <!-- Selection Effect (Same as Hover) -->
            <Trigger Property="IsSelected" Value="True">
                <Setter Property="Background" Value="#4B5563"/> <!-- Lighter Grey on Select -->
                <Setter Property="Foreground" Value="White"/>    <!-- White Text on Select -->
            </Trigger>
        </Style.Triggers>
    </Style>

</ResourceDictionary>